
<loading-indicator class="overlay" [isVisible]="(loading | async)"></loading-indicator>
<div class="container mt-4 max-auto col-8">
<div class="modal-header">
  <h2 class="modal-title" mat-dialog-title *ngIf="!updating" trans>Create Receipt Setting</h2>
  <h2 class="modal-title" mat-dialog-title *ngIf="updating" trans>Update Receipt Setting</h2>
</div>
 <form autocomplete="off" [formGroup]="receiptForm" class="mt-3" (ngSubmit)="confirm()">
   <mat-card-content class="row">
<div class="col-12">
    <mat-form-field appearance="outline" class="col-3">
        <mat-label>Enter business name</mat-label>
      <input  matInput placeholder="Business name" formControlName="company" required>

      <mat-error *ngIf="company.invalid && (company.dirty || company.touched)">
        <mat-error *ngIf="company.errors.required">
          Business name is <strong>required</strong>
        </mat-error>
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="col-3">
        <mat-label>Enter business address</mat-label>
      <input  matInput placeholder="Business address" formControlName="address" required>

      <mat-error *ngIf="address.invalid && (address.dirty || address.touched)">
        <mat-error *ngIf="address.errors.required">
          Business name is <strong>required</strong>
        </mat-error>
      </mat-error>

    </mat-form-field>

     <mat-form-field appearance="outline" class="col-3">
        <mat-label>Enter business PO.Box</mat-label>
      <input  matInput placeholder="Business pbox" formControlName="pbox" required>

      <mat-error *ngIf="pbox.invalid && (pbox.dirty || pbox.touched)">
        <mat-error *ngIf="pbox.errors.required">
          Business name is <strong>required</strong>
        </mat-error>
      </mat-error>

    </mat-form-field>

     <mat-form-field appearance="outline" class="col-3">
        <mat-label>Enter business Phone</mat-label>
      <input  matInput placeholder="Business Tel" formControlName="tel" required>

      <mat-error *ngIf="tel.invalid && (tel.dirty || tel.touched)">
        <mat-error *ngIf="tel.errors.required">
          Business name is <strong>required</strong>
        </mat-error>
      </mat-error>

    </mat-form-field>
</div>
<div class="col-12">
 <mat-form-field appearance="outline" class="col-3">
        <mat-label>Enter business email</mat-label>
      <input  matInput placeholder="Business email" formControlName="email" required>

      <mat-error *ngIf="email.invalid && (email.dirty || email.touched)">
        <mat-error *ngIf="email.errors.required">
          Business email is <strong>required</strong>
        </mat-error>
      </mat-error>

    </mat-form-field>

 <mat-form-field appearance="outline" class="col-3">
        <mat-label>Enter business tax number</mat-label>
      <input  matInput placeholder="Business tax number" formControlName="tax_number">

      <mat-error *ngIf="tax_number.invalid && (tax_number.dirty || tax_number.touched)">
        <mat-error *ngIf="tax_number.errors.required">
          Business tax number is <strong>required</strong>
        </mat-error>
      </mat-error>
    </mat-form-field>


    <mat-form-field appearance="outline" class="col-3">
        <mat-label>Font Size</mat-label>
      <mat-select  placeholder="Please select font Size" formControlName="font_size">
        <mat-option *ngFor="let t of fontSizes" [value]="t.value">
          {{t.value}}
        </mat-option>
      </mat-select>
    </mat-form-field>

   <mat-form-field appearance="outline" class="col-3">
        <mat-label>Font Family</mat-label>
      <mat-select  placeholder="Please select font family" formControlName="font_family">
        <mat-option *ngFor="let t of fontFamilies" [value]="t.value">
          {{t.value}}
        </mat-option>
      </mat-select>
    </mat-form-field>
</div>
<div class="col-12">
<mat-form-field appearance="outline" class="col-3">
        <mat-label>Font Style</mat-label>
      <mat-select  placeholder="Please select font style" formControlName="font_style">
        <mat-option *ngFor="let t of fontStyles" [value]="t.value">
          {{t.value}}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="outline" class="col-3">
        <mat-label>Font Weight</mat-label>
      <mat-select  placeholder="Please select font weight" formControlName="font_weight">
        <mat-option *ngFor="let t of fontWeights" [value]="t.value">
          {{t.value}}
        </mat-option>
      </mat-select>
    </mat-form-field>

     <mat-form-field appearance="outline" class="col-3">
        <mat-label>Letter spacing</mat-label>
      <mat-select  placeholder="Please select letter spacing size" formControlName="letter_spacing">
        <mat-option *ngFor="let t of letterSpacings" [value]="t.value">
          {{t.value}}
        </mat-option>
      </mat-select>
    </mat-form-field>

 <mat-form-field appearance="outline" class="col-3">
        <mat-label>Color</mat-label>
      <mat-select  placeholder="Please select color" formControlName="color">
        <mat-option *ngFor="let t of colors" [value]="t.value">
          {{t.value}}
        </mat-option>
      </mat-select>
    </mat-form-field>
</div>
<div class="col-12">
    <div class="col-4">
          <mat-form-field appearance="outline" class="w-100">
              <mat-label>Receipt message</mat-label>
            <input  matInput placeholder="Receipt message" formControlName="receipt_message">
            <mat-hint ><i>receipt message will be displayed at the bottom of each receipt.</i></mat-hint>
          </mat-form-field>
     </div>
  
   <table class="col-4">
          <tr>
            <td>
              <mat-checkbox formControlName="show_tax_breakdown" (click)="receiptForm.value.show_tax_breakdown=!receiptForm.value.show_tax_breakdown">can show tax breakdown?</mat-checkbox>
            </td>
          </tr>
          <tr>
            <td>
              <mat-checkbox formControlName="can_auto_print" (click)="receiptForm.value.can_auto_print=!receiptForm.value.can_auto_print">can auto print?</mat-checkbox>
            </td>
          </tr>
          <tr>
            <td>
              <mat-checkbox formControlName="can_show_customer_info" (click)="receiptForm.value.can_show_customer_info=!receiptForm.value.can_show_customer_info">can show customer info?
              </mat-checkbox>
            </td>
          </tr>
</table>
    <div class="col-4" style="cursor:pointer" (click)="uploadLogoModel()">
      <img [src]="receiptForm.value.company_logo" class="img-responsive" style="width:128px" *ngIf="receiptForm.value.company_logo" />
            <div class="caption">Upload Logo</div>
    </div>
</div>

   </mat-card-content>

   <mat-card-actions>
      <div class="buttons float-right mat-dialog-actions" mat-dialog-actions>
        <button type="submit" class="button" mat-raised-button  [disabled]="(loading | async) || !receiptForm.valid">
            <span *ngIf="updating" trans>Update</span>
            <span *ngIf="!updating" trans>Create</span>
        </button>
    </div>
   </mat-card-actions>
 </form>
 </div>


